 

<h2>Create task</h2>
<form (ngSubmit)="onSubmit()" #heroForm="ngForm">
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" [(ngModel)]="title" [ngModelOptions]="{standalone: true}">
    </div>

    <div class="form-group">
        <label for="description">Description</label>
        <input type="text" class="form-control" id="description" [(ngModel)]="description" [ngModelOptions]="{standalone: true}">
    </div>

    <div class="form-group">
        <label for="deadline">Deadline(yyyy-mm-dd)</label>
        <input type="date" class="form-control" id="deadline" [(ngModel)]="deadline" [ngModelOptions]="{standalone: true}">
    </div>
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Create</button>
</form>

<br />
<p>List of tasks</p>

<p *ngIf="!tasks"><em>Loading...</em></p>


<table class='table' *ngIf="tasks">
    <thead>
    <tr>
        <th>Status</th>
        <th>Title</th>
        <th>Description</th>
        <th>Priority</th>
        <th>Deadline</th>
            <th>Delete</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let task of tasks">
        <td>
            <div class="dropdown">
                <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {{task.status}}
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" (click)="chooseStatus(task.id, status.ToDo)">To Do</a>
                    <a class="dropdown-item" (click)="chooseStatus(task.id, status.InProgress)">In progress</a>
                    <a class="dropdown-item" (click)="chooseStatus(task.id, status.Done)">Done</a> 
                </div>
            </div>

        </td>
        <td>{{ task.title }}</td>
        <td>{{ task.description }}</td> 
        <td>
            <div class="dropdown">
                <button class="btn btn-warning dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {{task.priority}}
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a class="dropdown-item" (click)="choosePriority(task.id, priorityState.Low)">Low</a>
                    <a class="dropdown-item" (click)="choosePriority(task.id, priorityState.Normal)">Normal</a>
                    <a class="dropdown-item" (click)="choosePriority(task.id, priorityState.High)">High</a> 
                </div>
            </div>
        </td>
        <td>{{ task.deadline }}</td>
        <td>
            <button (click)="deleteTask(task.id)" type="button" class="btn btn-danger">X</button>
        </td>
    </tr>
    </tbody>
</table>
